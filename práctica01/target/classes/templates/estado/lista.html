<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Estados de Árboles</title>
        <link rel="stylesheet" th:href="@{/css/estilos.css}">
    </head>
    <body class="index-body">
        <div th:replace="fragmentos :: header"></div>
        <main class="main-content">
            <div class="container">

                <h1>Estados de Árboles</h1>
                <div class="button-container top-bar" style="margin-bottom: 20px;">
                    <a th:href="@{/}" class="button back-link">Volver al inicio</a>
                    <a th:href="@{/estado/nuevo}" class="button">Nuevo Estado</a>
                </div>
                <!-- Tabla de estados, tambien itera -->
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre del estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="estado : ${estados}">
                            <td th:text="${estado.idEstado}"></td>
                            <td th:text="${estado.nombreEstado}"></td>
                            <td class="actions">
                                <a th:href="@{'/estado/editar/' + ${estado.idEstado}}" class="button">Editar</a>
                                <a th:href="@{'/estado/eliminar/' + ${estado.idEstado}}" 
                                   class="button delete" 
                                   onclick="return confirm('¿Seguro que quieres eliminar este estado?');">Eliminar</a>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </main>
        <div th:replace="fragmentos :: footer"></div>

    </body>
</html>
